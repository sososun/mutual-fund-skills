# 基金分析技能

通过 AkShare 获取中国公募基金数据，筛选高夏普比率、低回撤的优质基金产品。

## 功能特性

- ✅ 自动获取基金历史净值数据
- ✅ 计算夏普比率、最大回撤、年化收益率等关键指标
- ✅ 获取基金规模、股票/债券仓位等配置信息
- ✅ 支持债券型、混合型、股票型、指数型等全品类基金
- ✅ 结果导出 CSV，便于进一步分析
- ✅ 涵盖主流基金公司产品（易方达、华夏、南方、招商等）

## 安装依赖

```bash
pip install akshare pandas numpy
```

## 使用方法

### 方式1：直接运行脚本

```bash
python fund_screener.py
```

### 方式2：作为模块导入

```python
from fund_screener import get_fund_metrics, get_fund_asset_allocation

# 分析单只基金
metrics = get_fund_metrics('004010', '华泰柏瑞鼎利混合A')
print(metrics)

# 获取资产配置
allocation = get_fund_asset_allocation('004010')
print(allocation)
```

### 方式3：自定义基金池

编辑脚本中的 `target_funds` 列表，添加你关注的基金：

```python
target_funds = [
    ('004010', '华泰柏瑞鼎利混合A', '偏债混合'),
    ('002015', '南方荣光A', '偏债混合'),
    # 添加更多基金...
]
```

## 输出指标说明

| 指标 | 说明 | 参考标准 |
|------|------|----------|
| 夏普比率 | 风险调整后收益，越高越好 | >0.5 良好，>1.0 优秀 |
| 最大回撤 | 历史上最大亏损幅度，越低越好 | <-10% 优秀，<-20% 可接受 |
| 年化收益率 | 平均每年收益 | >5% 良好 |
| 股票仓位 | 股票占净值比例 | 0-30% 典型范围 |
| 基金规模 | 资产管理规模(亿元) | 2-500亿较为合理 |

## 筛选逻辑

默认筛选条件：
- 夏普比率 ≥ 0.3
- 最大回撤 ≥ -25%（即回撤控制在25%以内）
- 年化收益率 > 2%
- 数据长度 ≥ 2年

## 数据来源

- 基金净值数据：东方财富网
- 基金规模数据：基金经理持仓数据
- 资产配置数据：基金季度持仓报告

## 常见问题

**Q: 为什么某些基金显示"无数据"？**
A: 可能是基金成立时间太短（<2年）或代码已变更。

**Q: 股票仓位显示 NaN？**
A: 部分基金持仓数据无法获取，建议通过基金公司官网查询。

**Q: 如何筛选特定基金公司的产品？**
A: 在 `target_funds` 列表中只保留该基金公司代码。

**Q: 可以分析全部基金吗？**
A: 可以，但全市场分析耗时较长，建议使用 --max 参数控制数量。

## 更新日志

- v1.0.0: 初始版本，支持基础筛选和指标计算
- v1.1.0: 增加基金规模和仓位数据获取
- v1.2.0: 优化性能，支持缓存机制

## 风险提示

- 历史业绩不代表未来表现
- 基金投资有风险，入市需谨慎
- 本工具仅供学习研究，不构成投资建议
