# 基金分析技能 (Mutual Fund Skills)

基于 Python + AkShare 的公募基金量化筛选工具，提供多种专业策略和深度分析能力，支持通过 BrowserMCP 进行数据交叉验证。

## 🎯 核心功能

### 📊 专业筛选策略

| 策略 | 命令 | 排序指标 | 说明 |
|------|------|----------|------|
| **红利高股息** | `--dividend` | 股息率 | 纯股息收益 + 低波动，适合长期持有 |
| **股票型 TOP50** | `--stock` | 卡玛比率 | 股票型/偏股混合，追求高收益 |
| **固收+ TOP30** | `--gushou-plus` | 索提诺比率 | 二级债基/偏债混合/一级债基，稳中求进 |
| **智选哑铃** | `--smart-pick` | 综合评分 | 哑铃结构主动管理基金 |
| **Alpha策略** | `--stock-alpha` | Alpha | 超额收益显著的主动基金 |
| **纯债** | `--pure-bond` | 夏普比率 | 纯债基金，极低风险 |
| **全市场** | (默认) | 夏普比率 | 全品类基金筛选 |

### 📈 量化指标体系
- **风险调整收益**: 夏普比率、索提诺比率、卡玛比率
- **风险指标**: 最大回撤、年化波动率、VaR
- **收益指标**: 年化收益率、近1/2/3年收益、股息率
- **持仓分析**: 前5大重仓股、行业分布（申万行业）、风格漂移检测
- **基金经理**: 从业年限、管理规模、历史业绩

### 🔍 BrowserMCP 数据验证
AkShare 数据存在已知偏差（基金规模为经理总规模、持仓数据滞后等）。配置 BrowserMCP 后，可通过百度股市通交叉验证并修正：
- 基金规模（单只基金实际规模）
- 前5大持仓（最新季度）
- 近1年收益率

## 🚀 快速开始

### 使用 npx（无需安装）

```bash
# 红利高股息筛选
npx mutual-fund-skills --dividend

# 股票型基金 TOP50
npx mutual-fund-skills --stock

# 固收+ TOP30
npx mutual-fund-skills --gushou-plus

# 单基金深度分析
npx mutual-fund-skills 000215
```

### Python 模块使用

```python
from fund_screener import analyze_single_fund, print_fund_analysis

# 分析任意基金
analysis = analyze_single_fund('000215')
print_fund_analysis(analysis)

# 获取关键指标
print(f"夏普比率: {analysis['风险指标']['夏普比率']}")
print(f"最大回撤: {analysis['风险指标']['最大回撤(%)']}%")
print(f"基金经理: {analysis['基金经理']['基金经理']}")
```

## 📋 输出指标

### 风险指标
- **夏普比率**: 风险调整后收益 (>0.5良好, >1.0优秀)
- **索提诺比率**: 下行风险调整收益（仅惩罚下跌波动）
- **卡玛比率**: 年化收益 / 最大回撤（>1.0优秀）
- **最大回撤**: 历史上最大亏损 (越小越好)
- **年化波动率**: 收益波动程度 (越小越稳定)

### 收益指标
- **阶段收益**: 近1年、近2年、近3年
- **年化收益率**: 基于近3年数据计算
- **股息率**: 红利策略专用指标

### 其他指标
- **基金规模**: 单只基金实际规模（亿元）
- **股票仓位**: 股票占净值比例
- **基金经理**: 从业年限、管理规模、最佳回报
- **持仓分析**: 前5大重仓股、申万行业分布

## 📦 安装

### 方式1：npx 直接运行（推荐）
```bash
npx mutual-fund-skills --dividend
```

### 方式2：克隆仓库
```bash
git clone https://github.com/sososun/mutual-fund-skills.git
cd mutual-fund-skills
pip install -r requirements.txt
python fund_screener.py --dividend
```

## 🔧 依赖

```
akshare>=1.10.0
pandas>=1.5.0
numpy>=1.21.0
```

## 📝 更新日志

### v2.1.0 (2026-02-24)
- ✨ 新增 `--dividend` 红利高股息基金筛选策略
- ✨ 新增 `--smart-pick` 智选主动基金哑铃结构策略
- ✨ 新增申万行业映射、风格漂移检测、季度持仓分析
- 🔧 修复持仓数据获取年份为动态当前年
- 🔧 修复基金规模优先获取单只基金规模而非经理总规模
- 📝 SKILL.md 新增 BrowserMCP 数据验证工作流文档

### v2.0.0 (2026-02-22)
- ✨ 重写固收+筛选策略：精确基金类型匹配 + 索提诺排序
- ✨ 新增卡玛比率、股票Alpha策略筛选模式
- ✨ 所有风险指标基于近3年数据窗口（756天）
- 🔧 修复 Sortino ratio 计算（学术标准公式）
- 🔧 无风险利率更新为 1.8%（2025-02 中国10年期国债）
- 📝 SKILL.md 重写为 OpenClaw AgentSkills 格式

### v1.3.0 (2026-02-15)
- ✨ 支持全品类基金分析
- ✨ 智能识别基金类型，针对性分析

### v1.2.0 (2026-02-14)
- ✨ 全市场智能筛选（从19,000+只基金中筛选）
- ✨ 单基金深度分析功能

### v1.0.0 (2026-02-14)
- 🎉 初始版本发布

## ⚠️ 免责声明

- 本工具仅供学习研究使用
- 历史业绩不代表未来表现
- 基金投资有风险，入市需谨慎
- 不构成任何投资建议

## 📄 许可证

MIT License

## 📮 联系方式

- 邮箱: sososunlove@gmail.com

---

**Made with ❤️ by sososun**
